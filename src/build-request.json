{
  "kind": "build_request",
  "title": "Fix sidebar navigation to smooth-scroll to in-page sections (no redirect/reload)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Ensure the landing page contains a single set of in-page sections with the exact IDs used by sidebar navigation: home, create-wish, templates, marketplace, pricing, dashboard, faq.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "Ensure all main sections have correct IDs:\n\nHome → id=\"home\"\nCreate Wish → id=\"create-wish\"\nTemplates → id=\"templates\"\nMarketplace → id=\"marketplace\"\nPricing → id=\"pricing\"\nDashboard → id=\"dashboard\"\nFAQ → id=\"faq\""
        ]
      },
      "acceptanceCriteria": [
        "Document contains exactly one element per required section ID: #home, #create-wish, #templates, #marketplace, #pricing, #dashboard, #faq.",
        "Clicking a navigation item for any of these IDs scrolls to a visible section (no missing target element)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update the sidebar/mobile navigation click handling so clicking any menu item performs in-page smooth scrolling to the target section and does not trigger route navigation, full page reload, or redirect to Home.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "When a sidebar item is clicked:\n\n• Do NOT redirect to homepage\n• Do NOT reload page\n• Close sidebar menu\n• Smoothly scroll to the selected section",
          "Remove any sidebar link that uses:\n\n• href=\"/\"\n• href=\"#\"\n• Router navigation that always loads homepage\n\nReplace navigation with in-page scroll behavior."
        ]
      },
      "acceptanceCriteria": [
        "Sidebar/mobile menu items do not use href=\"/\", href=\"#\", or router navigation for in-page section navigation.",
        "Clicking any sidebar/mobile menu item keeps the user on the current page (no reload) and does not reset scroll position to the top unless the selected section is Home.",
        "After clicking a menu item, the sidebar/mobile sheet closes.",
        "Scrolling to sections uses a smooth animation when prefers-reduced-motion is not enabled."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement/standardize smooth scrolling for sidebar navigation using the existing smoothScrollToAnchor utility and ensure it is the single mechanism used by sidebar navigation for section scrolling.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "ADD SMOOTH SCROLL FUNCTION\n\nSidebar clicks must scroll using smooth scroll animation to the selected section."
        ]
      },
      "acceptanceCriteria": [
        "Sidebar navigation calls the existing smoothScrollToAnchor(anchorId) for all section targets.",
        "When the user has prefers-reduced-motion enabled, the scroll behavior becomes non-animated (instant)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Fix sticky-header offset so scrolled-to sections are not hidden behind the sticky header by applying a consistent safe scroll margin to all main sections and ensuring the scroll utility offsets by the sticky header height.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "ADD HEADER OFFSET FIX\n\nBecause of sticky header:\n\nEnsure scroll stops slightly below header by adding safe scroll margin to all sections."
        ]
      },
      "acceptanceCriteria": [
        "All main sections targeted by sidebar navigation have a consistent scroll margin (e.g., Tailwind scroll-mt-16 or equivalent) so their headings/content are visible below the sticky header after navigation.",
        "smoothScrollToAnchor offsets scroll position by the sticky header height (or uses an equivalent robust approach) so the section content is not covered by the navbar."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (read-only).",
    "Do not modify frontend/src/hooks/useInternetIdentity.ts(x), frontend/src/hooks/useActor.ts, frontend/src/main.tsx (immutable paths)."
  ],
  "nonGoals": [
    "Add new pages or multi-route navigation for these sections.",
    "Change the visual design of the sidebar beyond what is required to fix click behavior and closing behavior.",
    "Backend/canister changes (this is a frontend-only navigation fix)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}